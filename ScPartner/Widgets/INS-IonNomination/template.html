<div class="gp_wrapper">
    <div class="filter">
        <input ng-model="c.data.config.filter.value" ng-keyup="$event.keyCode == 13 ? c.updateData('get') : null"/>
        <button ng-click="c.updateData('get')" placeholder="Search">search</button>
    </div>
    <div class="container">
        <div class="divTable" ng-if="!c.updatingData">
            <div class="row divTableHeading">
                <div class="col-sm-2 divTableHead" ng-click="c.sort('number')">Opportunity</div>
                <div class="col-sm-2 divTableHead" ng-click="c.sort('assigned_to')">Assigned To/Opportunity</div>
                <div class="col-sm-8 divTableHead" ng-click="">Requests/Nomination</div>
            </div>
            <div class="row divTableRow" ng-repeat="opportunity in c.data.opportunities track by $index" ng-class="{divTableRowOdd:$odd, divTableEvenRow:$even}">
                <a href="nav_to.do?uri={{c.data.config.opportunityTable}}.do?sys_id={{opportunity.sys_id.display_value}}">
                    <div class="col-sm-2 divTableCell">
                        <div>{{opportunity.number.display_value}}</div>
                        <div class="text-muted">{{opportunity.short_description.display_value}}</div>
                    </div>
                    <div class="col-sm-2 divTableCell">
                        <div class="text-muted">{{opportunity.assigned_to.display_value}}</div>
                    </div>
                    <div class="col-sm-8 divTableCell">
                        <div ng-repeat="sys_id_request in c.data.requestOpportunityMap[opportunity.sys_id.value]">
                            {{c.data.requests[sys_id_request].number.value}}
                            <div class="text-muted">{{opportunity.account.display_value}}</div>
                        </div>
                    </div>
                </a>
            </div>
        </div>
        <!--MOBILE
        <div class="mobile-progressbar divTable" ng-if="c.showProgressBar()">
            <div class="row divTableRow" ng-if="!c.updatingData" ng-repeat="opportunity in c.data.opportunitys track by $index" ng-class="{divTableRowOdd:$odd, divTableEvenRow:$even}">
                <a href="inspire?id=form&table={{opportunity.table}}&sys_id={{opportunity.sys_id.display_value}}">
                    <div class="row col-sm-2 divTableCell info">
                        <div class="col-sm-1"><strong>{{opportunity.number.display_value}}</strong></div>
                        <div class="col-sm-1">{{opportunity.short_description.display_value}}</div>
                    </div>
                    <div class="col-sm-2 divTableCell">
                        <uib-progressbar animate="false" value="c.getProjectAdvancePercentage(opportunity)" type="success">
                            <b>{{opportunity.state.display_value}}</b>
                        </uib-progressbar>
                    </div>
                </a>
            </div>
        </div>
                -->
        <!-- PAGINATION -->
        <div class="row divTableRow" ng-if="!c.updatingData">
            <ul uib-pagination direction-links="false" boundary-links="true" force-ellipses="true" total-items="c.data.config.pagination.total_items"
                items-per-page="c.data.config.pagination.items_in_pages"
                ng-model="c.data.config.pagination.current_page" max-size="c.data.config.pagination.max_size" ng-change="c.updateData('get')"></ul>
        </div>
        <!--SPINNER-->
        <div ng-show="c.updatingData" class="row divTableRow">
            <span class="fa fa-spinner fa-2 spinner"></span>Loading
        </div>
    </div>
</div>